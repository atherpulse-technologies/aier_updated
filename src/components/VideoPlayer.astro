---
import { onMount } from 'astro/client';
---

<!-- âœ… Include Plyr CSS from CDN -->
<link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />

<!-- ðŸŽ¥ Self-hosted video -->
<video
  id="player"
  playsinline
  autoplay
  muted
  controls
  width="100%"
>
  <source src="/video/promo.mp4" type="video/mp4" />
  Your browser does not support HTML5 video.
</video>

<!-- âœ… Include Plyr JS from CDN -->
<script src="https://cdn.plyr.io/3.7.8/plyr.polyfilled.js"></script>

<!-- ðŸ§  Init Plyr player -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const player = new Plyr('#player', {
      controls: [
        'play',
        'progress',
        'current-time',
        'mute',
        'volume',
        'fullscreen'
      ],
      autoplay: true,
      muted: true,
    });
  });
</script>
