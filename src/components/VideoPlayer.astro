---
interface Props {
  src: string;
  type?: 'youtube' | 'vimeo' | 'self-hosted' | 'external';
}

const { src, type = 'self-hosted' } = Astro.props;
---

<div class="video-player w-full h-full">
  {type === 'youtube' && (
    <iframe
      src={src}
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
      class="w-full h-full rounded-lg"
    ></iframe>
  )}
  {type === 'vimeo' && (
    <iframe
      src={`${src}?autoplay=0&loop=0`}
      allow="autoplay; fullscreen; picture-in-picture"
      allowfullscreen
      class="w-full h-full rounded-lg"
    ></iframe>
  )}
  {type === 'self-hosted' && (
    <video
      src={src}
      controls
      class="w-full h-full rounded-lg"
    ></video>
  )}
  {type === 'external' && (
    <iframe
      src={src}
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
      class="w-full h-full rounded-lg"
    ></iframe>
  )}
</div>
